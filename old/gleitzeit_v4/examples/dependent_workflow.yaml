name: "Dependent Tasks Workflow"
description: "Shows how tasks can depend on results from previous tasks"
tasks:
  - name: "generate_topic"
    protocol: "llm/v1"
    method: "llm/chat"
    priority: "high"
    params:
      model: "llama3.2:latest"
      messages:
        - role: "user"
          content: "Generate a random interesting topic for a short essay. Reply with just the topic, nothing else."

  - name: "write_outline"
    protocol: "llm/v1"
    method: "llm/chat"
    priority: "normal"
    dependencies: ["generate_topic"]
    params:
      model: "llama3.2:latest"
      messages:
        - role: "user"
          content: "Create a 3-point outline for an essay about: ${generate_topic.result.content}"

  - name: "write_essay"
    protocol: "llm/v1"
    method: "llm/chat"
    priority: "normal"
    dependencies: ["write_outline"]
    params:
      model: "llama3.2:latest"
      messages:
        - role: "user"
          content: "Write a short essay (2-3 paragraphs) based on this outline: ${write_outline.result.content}"